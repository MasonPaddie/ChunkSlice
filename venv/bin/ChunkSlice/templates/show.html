<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='styles/show.css') }}">
    <title>Show</title>

    <!-- These 2 lines are all that is needed to activate pyscript -->
    <link rel="stylesheet" href="https://pyscript.net/latest/pyscript.css" />
    <script defer src="https://pyscript.net/latest/pyscript.js"></script>
 
</head>
<body>
    <nav>
        <p><a href={{url_for('main.list')}}>List</a></p>
        <p><a href={{url_for('main.index')}}>Home</a></p>
    </nav>

    <!-- List for file information from mongo -->
    {% for file in file %}
    <ul>
        <li>{{ file.name }}</li>
        <li>{{ file.file }}</li>
        <li>{{ file }}</li>
    </ul>

    <!-- Delete button form -->
    <a href="{{ url_for('main.edit', stl_name = file.name) }}">Change name</a>
    <form action="{{ url_for('main.delete', stl_name = file.name) }}" method="POST">
        <input type="submit" value="DELETE">
    </form>

    
    <form action="{{ url_for('main.show_graph', stl_name = file.name) }}" method="POST">

        <!-- Button for viewing 3D stl -->
        <br/> <button type="submit" name="graph" value="stl">Graph</button> 
   
        <!-- Button for viewing points
        <br/><br/> <button type="submit" name="graph" value="points">Points</button>  -->

        <!-- Button for viewing cubes -->
        <br/><br/> <button type="submit" name="graph" value="cubes">Cubes</button> 

        <!-- Text input for height of stl model -->
        <input type="number" name="des_h" placeholder="Height of Model">

         <!-- Button for viewing 2D cross section -->
         <br/><br/> <button type="submit" name="graph" value="cross_section">Layer</button> 

         <!-- Text input for layer to view -->
        <input type="number" name="layer" placeholder="View Layer">

    </form>

    {% endfor %}
    <p> Height of model: {{ z_len + 1}}</p><br/>
    <p> Width of model: {{ x_len + 1}}</p><br/>
    <p> Length of model: {{ y_len + 1}}</p><br/>
    <p> Number of blocks used: {{ vol }} (Still working on the accuracy of this number)</p><br/>
    <!-- Runs python script on page load -->
    <py-config> 
        [[fetch]]
        files = ["./py/show.py"]
    </py-config>
 
    <py-script src="./../static/py/show.py">

    </py-script>

   
    <br/>
    
</body>
</html>