<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='styles/show.css') }}">
    <title>Show</title>

    <!-- These 2 lines are all that is needed to activate pyscript -->
    <link rel="stylesheet" href="https://pyscript.net/latest/pyscript.css" />
    <script defer src="https://pyscript.net/latest/pyscript.js"></script>
 
</head>
<body>
    <nav>
        <p><a href={{url_for('main.list')}}>List</a></p>
        <p><a href={{url_for('main.index')}}>Home</a></p>
    </nav>

    <!-- List for file information from mongo -->
    {% for file in file %}
    <ul>
        <li>Name of Model: {{ file.name }}</li>
        <li>Filename: {{ file.file }}</li>
     
    </ul>

    <!-- Change name link -->
    <a href="{{ url_for('main.edit', stl_name = file.name) }}">Change name</a>

     <!-- Delete button form -->
    <form action="{{ url_for('main.delete', stl_name = file.name) }}" method="POST">
        <input type="submit" value="DELETE">
    </form>

    <!-- form for handling user input for model -->
    <form action="{{ url_for('main.show_graph', stl_name = file.name) }}" method="POST">

        <!-- Button for viewing 3D stl -->
        <br/> <p> Press <button type="submit" name="graph" value="stl">HERE</button> to see the 3D object </p>
   
        <!-- Button for viewing points -->
        <!-- <br/><br/> <button type="submit" name="graph" value="points">Points</button>  -->

        <!-- Text input for height of stl model -->
        <br/> <p> Enter the desired height <input type="number" name="des_h" placeholder="HERE">
        <br/> and then press the CUBES button to see a minecraft model of the object  

        <br/><br/>
        OR 
        <br/><br/>

         <!-- Text input for layer to view -->
        Enter the layer number to view <input type="number" name="layer" placeholder="HERE">
        <br/> and press the LAYER button to see the blocks placed in that layer </p>

        <!-- Button for viewing cubes -->
        <button type="submit" name="graph" value="cubes">CUBES</button>

        <!-- Button for viewing 2D cross section -->
        <br/><br/> <button type="submit" name="graph" value="cross_section">LAYER</button> 

    </form>

    {% endfor %}
    <p> 
        {% if not vol %}
            Height of model: Enter a Height for the Model<br/>
            Width of model: Enter a Height for the Model<br/>
            Length of model: Enter a Height for the Model<br/>
            Number of blocks used: Enter a Height for the Model<br/>
        {% else %}
            Height of model: {{ z_len }}<br/>
            Width of model: {{ x_len }}<br/>
            Length of model: {{ y_len }}<br/>
            Number of blocks used: {{ vol }}<br/>
        {% endif %}
    </p>
    <!-- Runs python script on page lo ad -->
    <py-config> 
        [[fetch]]
        files = ["./py/show.py"]
    </py-config>
 
    <py-script src="./../static/py/show.py">

    </py-script>

   
    <br/>
    
</body>
</html>